<!DOCTYPE html>
<html>

<head>
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-76J5DT60LJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-76J5DT60LJ');
</script>

	<meta charset="utf-8">
	<title>Laboratorio de compresion madera - Universidad del Valle - Reider Muñoz</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
		integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
		integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
		crossorigin="anonymous"></script>
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/tabler-icons/1.35.0/iconfont/tabler-icons.min.css"
		integrity="sha512-tpsEzNMLQS7w9imFSjbEOHdZav3/aObSESAL1y5jyJDoICFF2YwEdAHOPdOr1t+h8hTzar0flphxR76pd0V1zQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="https://unpkg.com/@popperjs/core@2/dist/umd/popper.min.js"></script>
	<script src="https://unpkg.com/tippy.js@6/dist/tippy-bundle.umd.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>


	<style>
		html,
		body {
			margin: 0;
			width: 100%;
			height: 100%;
		}

		#ventana {
			background-color: #ffffff;
			width: 400px;
			height: 200px;
			position: absolute;
			top: 0;
			left: 0;
		}

		.lbl {

			text-align: center;

		}

		@media only screen and (min-height: 0px) and (max-height: 800px) {
			.barra_opcion {
				overflow: auto !important;

			}
		}

		@media only screen and (min-width: 360px) and (max-width: 1000px) {

			/* .barra_opcion {
	width: 300px !important;
	height: 100% !important;
} */
			.barra_opcion {
				overflow: auto !important;
				width: 300px !important;

			}

			.border-bottom {
				height: 12% !important;
			}

			.logo_st {
				height: 30px !important;
			}

			.btn-outline-secondary {

				font-size: 7px !important;
				text-align: center !important;
			}

			.col-md-2 {
				text-align: left !important;
				font-size: 4px !important;
			}

			.venta2d_style {

				height: 400px !important;
				width: 100px !important;


			}

			#mini2d {
				height: 500px !important;
				width: 800px !important;

			}

			#ventanamini2d {
				height: 280px !important;
				width: 280px !important;

			}

			#vistaMiniatura {
				height: 280px !important;
				width: 280px !important;

			}


		}
	</style>

</head>

<body>

	<div class="position-fixed w-100 p-3 border-bottom" style="z-index: 100000;background-color: #ffffff;">


		<div class="row">
			<div class="col-md-3">
				<a href="https://bayron479.github.io/estruclab_web/"
					class="d-flex align-items-center text-dark text-decoration-none logo_st">
					<img src="logo.png" style="height: 30px;">
					<span class="fs-8">LABORATORIOS VIRTUALES</span>
				</a>
			</div>

			<div class="col-md-6" style="text-align: center;">
				<h4>LABORATORIO DE COMPRESIÓN</h4>

			</div>

			<div class="col-md-1" style="text-align: left;">
				<a class="btn btn-sm btn-outline-secondary" onclick="open_manual()">Manual compresión</a>
			</div>




			<div class="col-md-2" style="text-align: right;">
				<a class="btn btn-sm btn-outline-secondary" href="indexrelojvariosensayos.html">Tracción</a>
				<a class="btn btn-sm btn-outline-secondary"
					href="indexrelojvariosensayos_flexionanimacion.html">Flexión</a>
				<a class="btn btn-sm btn-outline-secondary" href="index_torsion_Blanco.html">Torsión</a>
			</div>

			<!--	<div class="col-md-9" style="text-align: right;">s
				
				<a class="btn btn-sm btn-outline-secondary" href="index copy.html">aaTorsión</a>
				<a class="btn btn-sm btn-outline-secondary" href="https://reidermunoz.github.io/lab-tension.github.io/">SISTorsión</a>
				<a class="btn btn-sm btn-outline-secondary" href="#">Torsión</a>
				<a class="btn btn-sm btn-outline-secondary" href="#">Torsión</a>
				<a class="btn btn-sm btn-outline-secondary" href="#">Torsión</a>

			</div>-->
		</div>
	</div>

	<div class="position-fixed barra_opcion smaller"
		style="width: 400px;background-color: #ffffff;padding: 70px 5px; height: 100%;">

		<div class="card mb-1" style="width: 100%;">
			<div class="card-body">
				<canvas id="myChart" style="width: 200px;height: 100px;"></canvas>
			</div>
		</div>

		<div class="card mb-1" style="width: 100%;">
			<div class="card-header text-center bg-primary text-white">Ingrese los valores</div>

			<div class="card-body">
				<!--
				<span style="text-align: center; padding: 0; padding-left: 100px; font-size: 30px;">Ingrese los datos de: </span>
				-->
				<form class="row g-2">

					<label class="form-label mt-3"
						style="font-size:14px; display: inline-block ;width: 350px; text-align: center; padding: 0;">Tipo
						de
						Probeta <i
							data-tippy-content="Tipo de la muestra del material el cual se le va a llevar a cabo prueba a compresión de sección rectangular"
							class="text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
								fill="currentColor" class="bi bi-question-square-fill" viewBox="0 0 16 16">
								<path
									d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" />
							</svg></i>
					</label>

					<select id="select_barra" class="form-select" aria-label="Default select example"
						onchange="cambiossegunacero()">
						<option value=""></option>
						<option value="Copr_Madera_Pino_Paralela" selected>Madera (ASTM D143_Pino_Paralela) </option>
						<option value="Copr_Madera_Pino_Perpendicular">Madera (ASTM D143_Pino_Perpendicular) </option>
				
					</select>


					<div class="lbl">
						<label class="form-label" style="font-size: 14px">Longitud inicial (mm) <i
								data-tippy-content="Longitud entre las prensas, representando la longitud calibrada de la probeta"
								class="text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
									fill="currentColor" class="bi bi-question-square-fill" viewBox="0 0 16 16">
									<path
										d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" />
								</svg></i></label>
						<input type="number" class="form-control form-control-sm" style="height:37px" name="Altura"
							id="Altura" placeholder="" value="195" onchange="cambioAltura()" disabled>
					</div>


					<div class="row g-2">
						
						<div class="row">
							<div class="col" style="width:180px">
								<label class="form-label" style="font-size: 14px">Ancho (mm) <i
										data-tippy-content="Medida horizontal de la sección transversal de la muestra; representa la distancia desde un lado al otro de la probeta"
										class="text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16"
											height="16" fill="currentColor" class="bi bi-question-square-fill"
											viewBox="0 0 16 16">
											<path
												d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" />
										</svg></i></label>
								<input type="number" class="form-control form-control-sm" style="height:37px"
									name="base_perfil" id="base_perfil" placeholder="" value="45.1"
									onchange="cambioAltura()" disabled>
							</div>
							<div class="col" style="width:180px">
								<label class="form-label" style="font-size: 14px">Canto (mm) <i
										data-tippy-content="Refiere al grosor de la sección transversal de la muestra; representa la distancia desde un lado frontal al lado posterior de la probeta"
										class="text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16"
											height="16" fill="currentColor" class="bi bi-question-square-fill"
											viewBox="0 0 16 16">
											<path
												d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" />
										</svg></i></label>
								<input type="number" class="form-control form-control-sm" style="height:37px"
									name="altura_perfil" id="altura_perfil" placeholder="" value="70.9"
									onchange="cambioAltura()" disabled>
							</div>
						</div>


					</div>

				</form>

				<div style="text-align: center;" class="mt-3">
					<!--	<button type="button" onclick="open_win()" class="btn btn-primary">Zoom</button>-->
					<button type="button" name="button_iniciar" id="button_iniciar"
						onclick="iniciar()" class="btn btn-secondary">Iniciar</button>
					<a type="button" onclick="descaga()" class="btn btn-success">Datos</a>
					<a type="button" href="indexrelojvariosensayos_compresion_madera_paralela.html"
						class="btn btn-primary">Reiniciar</a>
				</div>




			</div>
		</div>


		<div class="card mt-2" style="width: 100%;">
			<div class="card-header text-center bg-primary text-white">Resultados</div>

			<div class="card-body">
				<form class="row g-2">
					<div class="col-auto" style="width:180px">
						<label class="form-label" style="font-size:14px">Deformación (mm) <i
								data-tippy-content="La deformación de la probeta entre dos puntos fijos "
								class=" text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
									fill="currentColor" class="bi bi-question-square-fill" viewBox="0 0 16 16">
									<path
										d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" />
								</svg></i></label>
						<input type="text" class="form-control form-control-sm" name="Alargamiento" id="Alargamiento"
							placeholder="">
					</div>
					<div class="col-auto" style="width:180px">
						<label class="form-label" style="font-size: 14px">Carga (kN) <i
								data-tippy-content="Carga axial que se le aplica a la probeta hasta su rotura"
								class=" text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
									fill="currentColor" class="bi bi-question-square-fill" viewBox="0 0 16 16">
									<path
										d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.496 6.033a.237.237 0 0 1-.24-.247C5.35 4.091 6.737 3.5 8.005 3.5c1.396 0 2.672.73 2.672 2.24 0 1.08-.635 1.594-1.244 2.057-.737.559-1.01.768-1.01 1.486v.105a.25.25 0 0 1-.25.25h-.81a.25.25 0 0 1-.25-.246l-.004-.217c-.038-.927.495-1.498 1.168-1.987.59-.444.965-.736.965-1.371 0-.825-.628-1.168-1.314-1.168-.803 0-1.253.478-1.342 1.134-.018.137-.128.25-.266.25h-.825zm2.325 6.443c-.584 0-1.009-.394-1.009-.927 0-.552.425-.94 1.01-.94.609 0 1.028.388 1.028.94 0 .533-.42.927-1.029.927z" />
								</svg></i></label>
						<input type="text" class="form-control form-control-sm" name="Carga" id="Carga" placeholder="">
					</div>

				</form>
			</div>

		</div>

		<div style="text-align: center;" class="mt-1	">
			<!--<svg type="button" onclick="Arribaflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-arrow-up-square-fill" viewBox="0 0 16 16">
				<path d="M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z"/>
			  </svg>-->





		</div>
		<div style="text-align: center;" class="mt-1">
			<!--<svg type="button" onclick="Izquierdaflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-arrow-left-square-fill" viewBox="0 0 16 16">
				<path d="M16 14a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12zm-4.5-6.5H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5a.5.5 0 0 0 0-1z"/>
			</svg>-->

			<svg type="button" onclick="Izquierdaflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50"
				fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
				<path fill-rule="evenodd"
					d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5zM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5z" />
			</svg>


			<!--<svg type="button" onclick="centroflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-arrow-down-square-fill" viewBox="0 0 16 16">
				<path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5a.5.5 0 0 1 1 0z"/>
			  </svg>-->

			<svg type="button" onclick="centroflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50"
				fill="currentColor" class="bi bi-app" viewBox="0 0 16 16">
				<path
					d="M11 2a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3V5a3 3 0 0 1 3-3h6zM5 1a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4H5z" />
			</svg>
			<!-- <svg type="button" onclick="centroflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-house-door-fill" viewBox="0 0 16 16">
				<path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"/>
			  </svg>-->

			<!--<svg type="button" onclick="Derechaflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-arrow-right-square-fill" viewBox="0 0 16 16">
				<path d="M0 14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v12zm4.5-6.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5a.5.5 0 0 1 0-1z"/>
			</svg>-->

			<svg type="button" onclick="Derechaflecha()" xmlns="http://www.w3.org/2000/svg" width="50" height="50"
				fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
				<path fill-rule="evenodd"
					d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5z" />
			</svg>

		</div>
	</div>

	<div id="rotateMessage">Por favor, gira tu dispositivo a una orientación horizontal.</div>

	<!-- <div class="position-fixed venta2d_style" id="ventanamini2d"
		style="bottom: 0px;right:0px;height: 330px;width: 520px;background-color: #ffffff;overflow: hidden;display: none">
		<iframe id="mini2d" onload="iframeMini2dLoaded()" src=""
			style="width: 100%;height:100%;overflow:hidden;"></iframe>
	</div> -->

	<div class="position-fixed venta2d_style" id="ventanamini2d"
		style="bottom: 0px;right:0px;height: 380px;width: 380px;background-color: #ffffff;overflow: hidden;display: block;border:1px solid">
		<div id="vistaMiniatura" style="width: 380px;height: 380px;"></div>

	</div>



	<script src="https://cdn.jsdelivr.net/npm/three@0.136.0/build/three.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/controls/OrbitControls.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/loaders/GLTFLoader.js"></script>

	<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>


	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="Copr_Madera_Pino_Paralela.js"></script>
	<script src="Copr_Madera_Pino_Perpendicular.js"></script>

	<script>

		var btnAceptar = document.getElementById("button_iniciar");
		var disableButton = function () { this.disabled = true; };
		btnAceptar.addEventListener('click', disableButton, false);


		function isMobileDevice() {
			return /Mobi/i.test(navigator.userAgent);
		}

		function checkOrientation() {
			if (window.orientation === 90 || window.orientation === -90) {
				// La orientación es horizontal, ocultar el mensaje
				document.getElementById('rotateMessage').style.display = 'none';

			} else {
				// La orientación no es horizontal, mostrar el mensaje
				document.getElementById('rotateMessage').style.display = 'block';
				orientacion0()
			}
		}

		function orientacion0() {
			if (isMobileDevice() && window.orientation !== 90 || window.orientation !== -90) {
				Swal.fire({
					title: 'Orientacion',
					text: 'Por favor gira el telefono de forma horizontal',
					//			icon: 'warning',
					imageUrl: 'rotate_icon.png',
					imageWidth: 100,
					imageHeight: 100,
					confirmButtonText: 'OK',
				}).then((result) => {
					/* Read more about isConfirmed, isDenied below */
					if (result.isConfirmed) {
						window.open('indexrelojvariosensayos_compresion_madera_paralela.html', "_self");

					}
				})


			}
		}


		// function orientacion0() {
		// 	var altura = document.getElementById('Altura').value;
		// 	if (altura < 30 || altura > 200) {
		// 		document.getElementById('Altura').value = '';
		// 		Swal.fire({
		// 			title: 'Orientacion',
		// 			text: 'Por favor gira el telefono de forma horizontal',
		// 			//			icon: 'warning',
		// 			imageUrl: 'rotate_icon.png',
		// 			imageWidth: 100,
		// 			imageHeight: 100,
		// 			confirmButtonText: 'OK',
		// 		}).then((result) => {
		// 			/* Read more about isConfirmed, isDenied below */
		// 			if (result.isConfirmed) {
		// 				window.open('indexrelojvariosensayos.html', "_self");

		// 			}
		// 		})


		// 	}
		// }





		// // Verificar la orientación inicial del dispositivo
		// window.addEventListener('DOMContentLoaded', checkOrientation);
		// window.addEventListener('orientationchange', checkOrientation);

		// Función para verificar la orientación del dispositivo




		// Ejemplo de uso
		if (isMobileDevice()) {
			//alert('La página se está visualizando desde un dispositivo móvil.');
			checkOrientation()
		} else {
			//alert('La página se está visualizando desde un ordenador.');
		}

	</script>


	<script>
		tippy('[data-tippy-content]');

		function cambioAltura() {
			var altura = document.getElementById('Altura').value;
			if (altura < 20 || altura > 200) {
				document.getElementById('Altura').value = '';
				Swal.fire({
					title: 'Error!',
					text: 'El valor debe ser mayor a 20 mm y menor a 200 mm',
					icon: 'error',
					confirmButtonText: 'OK',
					timer: 10000,
					timerProgressBar: true,
				})

			}
		}


		function cambiossegunacero() {
			var prueba565656 = 120;
			switch (document.getElementById('select_barra').value) {

				case 'Copr_Madera_Pino_Paralela':
					document.getElementById('Altura').value = 195;

					break;

				case 'Copr_Madera_Pino_Perpendicular':
					document.getElementById('Altura').value = 195;
					location.href = "indexrelojvariosensayos_compresion_madera_Perpendicular.html";

					break;

				default:
					document.getElementById('Altura').value = '';
					document.getElementById('altura_perfil').value = '';
					document.getElementById('base_perfil').value = '';
					location.href = "indexrelojvariosensayos_compresion_madera_blanco.html";

			}

		}

		var ctx = document.getElementById("myChart").getContext("2d");
		const contador_barra1 = [];
		const chart = new Chart(ctx, {
			type: 'line',
			data: {
				datasets: [{
					borderColor: 'rgb(222,42,22)',
					borderWidth: 2,
					pointRadius: 0,
					data: [],
				}]
			},
			options: {
				animation: {
					duration: 0
				},
				interaction: {
					intersect: false
				},
				plugins: {
					legend: false
				},
				scales: {
					x: {
						type: 'linear',
						max: 0.5,
						min: 0,
						title: {
							display: true,
							text: 'Deformación (mm)'
						}
					},

					y: {
						type: 'linear',
						max: 400,
						min: 1,
						title: {
							display: true,
							text: 'Carga (kN)'
						}
					}
				}
			}
		});

		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 1000);
		var garra;

		document.addEventListener('keydown', onKeyDown);

		const container = document.getElementById('3d');


		const renderer = new THREE.WebGLRenderer();

		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);

		clock = new THREE.Clock();

		scene = new THREE.Scene();
		scene.background = new THREE.Color(0xe0e0e0);
		scene.fog = new THREE.Fog(0xe0e0e0, 10, 50);

		const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);
		hemiLight.position.set(0, 20, 0);
		scene.add(hemiLight);

		const dirLight = new THREE.DirectionalLight(0xffffff);
		dirLight.position.set(- 3, 10, - 10);
		dirLight.castShadow = true;
		dirLight.shadow.camera.top = 2;
		dirLight.shadow.camera.bottom = - 2;
		dirLight.shadow.camera.left = - 2;
		dirLight.shadow.camera.right = 2;
		dirLight.shadow.camera.near = 0.1;
		dirLight.shadow.camera.far = 40;
		scene.add(dirLight);

		// scene.add( new THREE.CameraHelper( dirLight.shadow.camera ) );

		// ground
		/*
		const mesh = new THREE.Mesh(new THREE.PlaneGeometry(100, 100), new THREE.MeshPhongMaterial({ color: 0x999999, depthWrite: false }));
		mesh.rotation.x = - Math.PI / 2;
		mesh.receiveShadow = true;
		scene.add(mesh);
		var geometry = new THREE.CylinderGeometry(0.05, 0.05, 0.3, 32);
		var material = new THREE.MeshBasicMaterial({ color: 0xaa9a9a });
		var cube = new THREE.Mesh(geometry, material);
		scene.add(cube);
		cube.position.y = 3.005
		cube.position.z = 0.63
		var geometryabajo = new THREE.CylinderGeometry(0.05, 0.04, 0.024, 32);
		var materialabajo = new THREE.MeshBasicMaterial({ color: 0xaa9a9a });
		var cubeabajo = new THREE.Mesh(geometryabajo, materialabajo);
		scene.add(cubeabajo);
		cubeabajo.position.y = 2.828
		cubeabajo.position.z = 0.63
		var geometry2 = new THREE.CylinderGeometry(0.05, 0.05, 0.4, 32);
		var material2 = new THREE.MeshBasicMaterial({ color: 0xaa9a9a });
		var cube2 = new THREE.Mesh(geometry2, material2);
		scene.add(cube2);
		cube2.position.y = 2.63
		cube2.position.z = 0.63
		var geometryabajo2 = new THREE.CylinderGeometry(0.04, 0.05, 0.024, 32);
		var materialabajo2 = new THREE.MeshBasicMaterial({ color: 0xaa9a9a });
		var cubeabajo2 = new THREE.Mesh(geometryabajo2, materialabajo2);
		scene.add(cubeabajo2);
		cubeabajo2.position.y = 2.84
		cubeabajo2.position.z = 0.63
*/

		// var geometrycubomadera = new THREE.BoxGeometry(0.1, 0.30, 0.1);
		// var materialcubo = new THREE.MeshPhongMaterial({ color: 0xE7B158 });
		// var cubecubo = new THREE.Mesh(geometrycubomadera, materialcubo);
		// cubecubo.position.y = 1.585
		// cubecubo.position.z = -0.04
		// scene.add(cubecubo);


		// Cámara y renderizador para la miniatura
		var contenedorMiniatura = document.getElementById('vistaMiniatura');
		var thumbnailCamera = new THREE.PerspectiveCamera(30, 1, 0.9, 1000);
		thumbnailCamera.position.set(1.5, 1.5, -3);



		thumbnailCamera.lookAt(scene.position);
		var rendererMiniatura = new THREE.WebGLRenderer();
		rendererMiniatura.setSize(contenedorMiniatura.offsetWidth, contenedorMiniatura.offsetHeight);
		contenedorMiniatura.appendChild(rendererMiniatura.domElement);


		(function () {

			/**
			 * Ajuste decimal de un número.
			 *
			 * @param	{String}	type	El tipo de ajuste.
			 * @param	{Number}	value	El número.
			 * @param	{Integer}	exp		El exponente(el logaritmo en base 10 del ajuste).
			 * @returns	{Number}			El valor ajustado.
			 */
			function decimalAdjust(type, value, exp) {
				// Si el exp es indefinido o cero...
				if (typeof exp === 'undefined' || +exp === 0) {
					return Math[type](value);
				}
				value = +value;
				exp = +exp;
				// Si el valor no es un número o el exp no es un entero...
				if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {
					return NaN;
				}
				// Cambio
				value = value.toString().split('e');
				value = Math[type](+(value[0] + 'e' + (value[1] ? (+value[1] - exp) : -exp)));
				// Volver a cambiar
				value = value.toString().split('e');
				return +(value[0] + 'e' + (value[1] ? (+value[1] + exp) : exp));
			}

			// Redondeo decimal
			if (!Math.round10) {
				Math.round10 = function (value, exp) {
					return decimalAdjust('round', value, exp);
				};
			}
			// Redondeo hacia abajo
			if (!Math.floor10) {
				Math.floor10 = function (value, exp) {
					return decimalAdjust('floor', value, exp);
				};
			}
			// Redondeo hacia arriba
			if (!Math.ceil10) {
				Math.ceil10 = function (value, exp) {
					return decimalAdjust('ceil', value, exp);
				};
			}

		})();


		function modulo_elastico() {
			var num1 = (202.358513779528 - 5.08919783464567);
			var num2 = (0.00647290640394089 - 0);
			var modulo_elastico = Math.round10(num1 / num2, -2);
			document.getElementById('modulo_elastico').value = modulo_elastico + ' MPa';

		}

		const controls = new THREE.OrbitControls(camera, renderer.domElement);
		camera.position.set(5, 2, 0); // posicion de la camara (0, 5, 5) 

		function centroflecha() {
			camera.position.set(1.7635816353914981, 1.8347950925610317, 0.16463116563173347);
			controls.target.set(-0.47968991718879844, 1.7819228371923617, 0.35131564004338245);
		}

		function Derechaflecha() {
			camera.position.set(0.06126837168823679, 1.8755083832142612, -1.2708440270559638);
			controls.target.set(0.14533605948724349, 1.730226894676921, -0.24126841056202938);
		}
		function Izquierdaflecha() {
			camera.position.set(-0.01364266170339136, 1.8549514906947322, 1.129527550691957);
			controls.target.set(-0.04140357232327803, 1.8463011750021652, 0.7161876768959998);
		}

		function Arribaflecha() {
			camera.position.set(-0.049771421686070995, 3.100206014401884, 0.05500078024639481);
			controls.target.set(-0.09139378917770244, 2.3345121792479646, 0.05437087104429345);
		}


		function zoom() {
			camera.position.set(1.1225234645935336, 2.430378387715647, 0.7119134614268835); // posicion de la camara (0, 5, 5)
			//camera.position.y=3 // posicion de la camara (0, 5, 5)
			controls.target.set(-0.7090738020603329, 2.414713071006456, 0.6197697240451334);

			//	console.log(camera.position)
			//	console.log(controls.target)


		}
		/*	function open_win() {
				window.open("index2dcorta.html", "hola", "width=400px, height=600px,")
				camera.position.set(1.1225234645935336, 2.430378387715647, 0.7119134614268835); // posicion de la camara (0, 5, 5)
				//camera.position.y=3 // posicison de la camara (0, 5, 5)
				controls.target.set(-0.7090738020603329, 2.414713071006456, 0.6197697240451334);
			}*/
		function open_manual() {
			window.open("Manual_carga_uniaxial_Flexion___DEF.pdf", "Laboratorio de tracción", "width=800px, height=1000px,")
			// camera.position.set(1.1225234645935336, 2.430378387715647, 0.7119134614268835); // posicion de la camara (0, 5, 5)
			// //camera.position.y=3 // posicison de la camara (0, 5, 5)
			// controls.target.set(-0.7090738020603329, 2.414713071006456, 0.6197697240451334);
		}


		controls.update();

		var D = 1;
		var Alt = 1;
		/* function Diametro() {
			var Diaetro_barra_en_mm = document.getElementById('Diametro_barra').value;
			if (Diaetro_barra_en_mm == "Numero66") {
				D = 28.96066083;

			} else if (Diaetro_barra_en_mm == "Numero1") {
				D = 28.9;

			} else if (Diaetro_barra_en_mm == "Numero4") {
				D = 12.7;
			} else if (Diaetro_barra_en_mm == "Numero5") {
				D = 15.9;
			} else if (Diaetro_barra_en_mm == "Numero6") {
				D = 19.1;
			} else if (Diaetro_barra_en_mm == "Numero7") {
				D = 22.2;
			} else if (Diaetro_barra_en_mm == "NUmero8") {
				D = 25.4;
			} else if (Diaetro_barra_en_mm == "Numero9") {
				D = 28.7;
			} else if (Diaetro_barra_en_mm == "Numero10") {
				D = 32.3;
			} else if (Diaetro_barra_en_mm == "Numero11") {
				D = 35.8;
			} else if (Diaetro_barra_en_mm == "Numero14") {
				D = 43;
			} else if (Diaetro_barra_en_mm == "Numero18") {
				D = 57.3;
			}
			console.log(D)
		}*/

		var bas_per = 45.1;
		var altu_per = 70.9;

		function base_per() {
			bas_per = parseFloat(document.getElementById('base_perfil').value);
		}

		function alt_per() {

			altu_per = parseFloat(document.getElementById('altura_perfil').value);

		}


		function Altura() {
			Alt = parseFloat(document.getElementById('Altura').value);

		}

		renderer.render(scene, camera);

		function onKeyDown(event) {

			switch (event.code) {

				case 'ArrowUp':
				case 'KeyW': camera.position.x = camera.position.x - 2;

				case 'ArrowDown':
				case 'KeyS': camera.position.x = camera.position.x + 1;

				case 'ArrowLeft':
				case 'KeyA': camera.position.z = camera.position.z + 2;

				case 'ArrowRight':
				case 'KeyD': camera.position.z = camera.position.z - 1;

				// case 'KeyC': controls.crouch = true; break;
				// case 'Space': controls.jump = true; break;
				// case 'ControlLeft':
				// case 'ControlRight': controls.attack = true; break;

			}

		}

		var iniciar_ = false;
		var max_y_canvas = 0;
		var max_x_canvas = 0;

		function Ruido() {
			var Escalar_gauseano = 0.1;
			var media = 0;
			var desvis = 1;

			var r1 = Math.random();
			var r2 = Math.random();

			var z0 = Escalar_gauseano * Math.sqrt(-2.0 * Math.log(r1)) * Math.cos(2 * Math.PI * r2);

			return z0 + desvis + media;

		}

		var archivo_datos = [];

		var mixer;
		var clock = new THREE.Clock();

		var tempcont = -5;
		function animate() {
			requestAnimationFrame(animate);
			controls.update();
			//console.log(camera.position)


			if (iniciar_) {

				var delta = clock.getDelta();

				if (mixer) mixer.update(delta / 5.353); //if ( mixer ) mixer.update( delta/5.353);

				renderer.render(scene, camera);



				var Area = bas_per * altu_per;
				//console.log(Area)
				if (garra) {
					var cant = chart.data.datasets[0].data.length;
					contador_barra1.push(1);

					if (garra.position.y >= -0.3415500000000003255) {
						garra.position.y += -0.00001
						//		console.log(garra.position.y)



						var datos_traccion;

						switch (document.getElementById('select_barra').value) {
							case 'Copr_Madera_Pino_Perpendicular':
								datos_traccion = Copr_Madera_Pino_Perpendicular;
								break;
							case 'Copr_Madera_Pino_Paralela':
								datos_traccion = Copr_Madera_Pino_Paralela;
								break;

						}

						new_vec = datos_traccion;


						new_vec = []

						for (const key in datos_traccion) {
							operavec = [datos_traccion[key][0] * Alt, (Ruido() + datos_traccion[key][1]) * Area / 1000];
							new_vec.push(operavec)
						}

						//	console.log(new_vec)

						/* max_y_canvas = (datos_traccion[cant][1] +50) > max_y_canvas ? (datos_traccion[cant][1] +50) : max_y_canvas;

*/

						var margen = 1;
						if (contador_barra1.length % 31 == 0) {

							margen = new_vec[cant][1] * 0.15;
							margenx = new_vec[cant][0] > 1 ? new_vec[cant][0] * 0.20 : 1;


							max_y_canvas = (new_vec[cant][1] + margen) > max_y_canvas ? (new_vec[cant][1] + margen) : max_y_canvas;
							max_x_canvas = (new_vec[cant][0] + margenx) > max_x_canvas ? (new_vec[cant][0] + margenx) : max_x_canvas;



							chart.data.datasets[0].data.push({ x: new_vec[cant][0], y: new_vec[cant][1] });
							chart.options.scales.y.max = parseInt(max_y_canvas);
							chart.options.scales.x.max = max_x_canvas;


							chart.update();
							/*console.log(chart.data.datasets[0].data[cant].x)
*/
							let prierox = chart.data.datasets[0].data[cant].x;
							let segundoy = chart.data.datasets[0].data[cant].y

							document.getElementById('Alargamiento').value = Math.round10(prierox, -3);
							document.getElementById('Carga').value = Math.round10(segundoy, -3);
						}
					} else {
						garra.position.y = -0.3415500000000003255
					}
					//	console.log(garra.position.y)
				}

			}
			renderer.render(scene, camera);

			tempcont = tempcont + 0.001;

			thumbnailCamera.position.set(1, 1.6, -0); //profundidad,elevacion,transversal
			thumbnailCamera.rotation.set(2.82, -4.7, -2.82);
			//console.log(tempcont)

			rendererMiniatura.render(scene, thumbnailCamera);

		}

		function descaga() {



			var nombredeBarra;
			var nombre = document.getElementById('select_barra').value;
			var longBarra;
			var cantoexcel;
			var anchoexcel;
			switch (nombre) {
				case 'Copr_Madera_Pino_Paralela':
					nombredeBarra = "Madera de pino, fibras paralelas";
					longBarra = document.getElementById('Altura').value;
					cantoexcel= 70.9;
					anchoexcel = 45.1;
					break;
				case 'Copr_Madera_Pino_Perpendicular':
					nombredeBarra = "Madera de pino, fibras perpendicular";
					longBarra = document.getElementById('Altura').value;
					cantoexcel= 70.9;
					anchoexcel = 45.1;
					break;

			}


			new_vec[0][3] = nombredeBarra;
			new_vec[0][4] = longBarra;
			new_vec[0][5] = anchoexcel;
			new_vec[0][6] = cantoexcel;


			var ws = XLSX.utils.json_to_sheet(new_vec);

			/* add to workbook */
			var wb = XLSX.utils.book_new();

			var header1 = ["Deformacion (mm)"];
			var header2 = ["Carga (kN)"];
			var header3 = ["Tipo de probeta"];
			var header4 = ["Longitud inicial (mm)"];
			var header5 = ["Ancho (mm)"];
			var header6 = ["Canto (mm)"];
			XLSX.utils.sheet_add_aoa(ws, [header1], { origin: "A1" });
			XLSX.utils.sheet_add_aoa(ws, [header2], { origin: "B1" });
			XLSX.utils.sheet_add_aoa(ws, [header3], { origin: "C1" });
			XLSX.utils.sheet_add_aoa(ws, [header4], { origin: "D1" });
			XLSX.utils.sheet_add_aoa(ws, [header5], { origin: "E1" });
			XLSX.utils.sheet_add_aoa(ws, [header6], { origin: "F1" });
			XLSX.utils.book_append_sheet(wb, ws, "Datos_Laboratorio");

			/* generate an XLSX file */
			XLSX.writeFile(wb, "Datos.xlsx");
			descargarPDF('Laboratorio_de_Resistencia_de_Materiales__Compresión____DEF (1).pdf');
		}

		function descargarPDF(url) {
			var link = document.createElement('a');
			link.href = url;
			link.download = 'Laboratorio_compresion.pdf';
			link.target = '_blank';
			document.body.appendChild(link);
			link.click();
			document.body.removeChild(link);
		}

		animate()


		function iniciar() {

			Altura();
			alt_per();
			base_per();

			var altura = document.getElementById('Altura').value;
			if (altura < 20 || altura > 200) {
				document.getElementById('Altura').value = '';
				Swal.fire({
					title: 'Error!',
					text: 'El valor debe ser mayor a 20 mm y menor a 200 mm',
					icon: 'error',
					confirmButtonText: 'OK',
					timer: 10000,
					timerProgressBar: true,
				})

			} else {
				iniciar_ = true;

				// document.getElementById("ventanamini2d").style.display = "block";
				// document.getElementById('mini2d').src = "index2dcorta_compr_madera_paralela.html";
			}

		}

		// function iframeMini2dLoaded() {
		// 	iniciar_ = true;

		// }

		// Instantiate a loader
		const loader = new THREE.GLTFLoader();

		// Load a glTF resource
		loader.load(
			'laboratorio-compresion.gltf',//'scene.gltf'
			function (gltf) {
				scene.add(gltf.scene);
				gltf.animations; // Array<THREE.AnimationClip>
				gltf.scene; // THREE.Group
				gltf.scenes; // Array<THREE.Group>
				gltf.cameras; // Array<THREE.Camera>
				gltf.asset; // Object
				renderer.render(scene, camera);

			},
			// called while loading is progressing
			function (xhr) {
				//	console.log((xhr.loaded / xhr.total * 100) + '% loaded');
			},
			// called when loading has errors
			function (error) {
				//	console.log('An error happened');
			}
		);



		// Instantiate a loader
		const loader2 = new THREE.GLTFLoader();

		// Load a glTF resource
		loader2.load(
			'compresion-carga.gltf',//'scene.gltf'
			function (gltf) {
				garra = gltf.scene;
				scene.add(garra);
				gltf.animations; // Array<THREE.AnimationClip>
				gltf.scene; // THREE.Group
				gltf.scenes; // Array<THREE.Group>
				gltf.cameras; // Array<THREE.Camera>
				gltf.asset; // Object

				console.log('completado!.....')
				garra.position.z += 0
				garra.position.x += 0
				garra.position.y += -0.309
				renderer.render(scene, camera);


			},
			// called while loading is progressing
			function (xhr) {
				//	console.log((xhr.loaded / xhr.total * 100) + '% loaded');
			},
			// called when loading has errors
			function (error) {
				//	console.log('An error happened');
			}
		);


		// Instantiate a loader
		const loader3 = new THREE.GLTFLoader();

		// Load a glTF resource
		loader3.load(
			'madera_compr_defor1.gltf',//'scene.gltf'
			function (gltf) {
				madera_compre_def = gltf.scene;

				mixer = new THREE.AnimationMixer(gltf.scene);

				const clock = new THREE.Clock();
				var clip = gltf.animations[0];
				var action = mixer.clipAction(clip);
				action.loop = THREE.LoopOnce;
				action.clampWhenFinished = true;
				action.play();

				console.log('completado!.....')
				madera_compre_def.position.z += -0.04  //izquierda  derecha
				madera_compre_def.position.x += 0 //alfrente
				madera_compre_def.position.y += 1.44  //arriba
				madera_compre_def.scale.y = 0.2
				madera_compre_def.scale.x = 0.2
				madera_compre_def.scale.z = 0.2
				scene.add(gltf.scene);
				renderer.render(scene, camera);


			},
			// called while loading is progressing
			function (xhr) {
				//	console.log((xhr.loaded / xhr.total * 100) + '% loaded');
			},
			// called when loading has errors
			function (error) {
				//	console.log('An error happened');
			}
		);



		// // create an AudioListener and add it to the camera
		// const listener = new THREE.AudioListener();
		// camera.add(listener);

		// // create a global audio source
		// const sound = new THREE.Audio(listener);

		// // load a sound and set it as the Audio object's buffer
		// const audioLoader = new THREE.AudioLoader();
		// audioLoader.load('sound_ogg.ogg', function (buffer) {
		// 	sound.setBuffer(buffer);
		// 	sound.setLoop(true);
		// 	sound.setVolume(0.5);
		// 	sound.play();
		// });



		/*
		var animate = function () {
			requestAnimationFrame( animate );
			cube.rotation.x += 0.01;
			cube.rotation.y += 0.01;
			renderer.render( scene, camera );
		};
		animate(); */


	</script>
</body>

</html>